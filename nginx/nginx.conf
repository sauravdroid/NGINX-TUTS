events {}

http {
  include mime.types;

  server {
    listen 80;
    server_name 127.0.0.1;

    root /usr/share/nginx/html;

    rewrite ^/user/(\w+) /greet/$1 last;
    rewrite ^/greet/john /controls.PNG;

    location /greet {
      return 200 "Hello User";
    }

    location = /greet/john {
      return 200 "Hello John";
    }
  }
}